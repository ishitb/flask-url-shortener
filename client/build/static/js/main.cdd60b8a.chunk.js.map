{"version":3,"sources":["components/Loader.js","App.js","reportWebVitals.js","models/accountModel.js","models/loaderModel.js","models/index.js","models/linkModel.js","index.js"],"names":["Loader","loader_shown","useStoreState","store","loaderModel","defaultOptions","loop","autoplay","animationData","loadingAnim","rendererSettings","preserveAspectRatio","createPortal","className","options","height","speed","width","isStopped","document","getElementById","Navbar","lazy","SignIn","Home","Furls","window","injectStyle","App","useState","signingIn","setSigningIn","fallback","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","user_logged_in","token","user_data","login","thunk","actions","a","email","password","toggleLoader","goBack","setError","fetch","method","headers","Headers","Accept","body","JSON","stringify","resp","json","res","status","setToken","setUserData","user","toast","success","error","message","console","log","logout","catch","e","finally","register","password2","name","verifyUser","undefined","savedToken","cookies","load","Authorization","err","action","state","save","expires","Date","data","remove","toggle","accountModel","linkModel","stored_links","editingLink","open","id","retrieveLinks","setLinks","editLink","updates","original","back","shortRef","ogRef","short","current","value","updateLink","deleteLink","delete","updateLinks","link","links","toggleEditor","updatedLink","index","findIndex","_id","$oid","curr","filter","createStore","persist","model","allow","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cdd60b8a.chunk.js","sourcesContent":["import { createPortal } from 'react-dom';\r\nimport { useStoreState } from 'easy-peasy';\r\nimport Lottie from 'react-lottie';\r\n\r\nimport loadingAnim from '../assets/loader.json';\r\n\r\nimport '../styles/Loader.css';\r\n\r\nconst Loader = () => {\r\n    const loader_shown = useStoreState(\r\n        (store) => store.loaderModel.loader_shown\r\n    );\r\n\r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true,\r\n        animationData: loadingAnim,\r\n        rendererSettings: {\r\n            preserveAspectRatio: 'xMidYMid slice',\r\n        },\r\n    };\r\n\r\n    return createPortal(\r\n        <div\r\n            className={`loading ${\r\n                loader_shown ? 'shown' : ''\r\n            }`}\r\n        >\r\n            <div className='lottie confetti'>\r\n                <Lottie\r\n                    options={defaultOptions}\r\n                    height={400}\r\n                    speed={2}\r\n                    width={400}\r\n                    isStopped={!loader_shown}\r\n                />\r\n            </div>\r\n        </div>,\r\n        document.getElementById('loader')\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import { Suspense, lazy, useState } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport { injectStyle } from 'react-toastify/dist/inject-style';\n\nimport Loader from './components/Loader';\n\nimport './App.css';\n\nconst Navbar = lazy(() => import('./components/Navbar'));\nconst SignIn = lazy(() => import('./components/SignIn'));\nconst Home = lazy(() => import('./components/Home'));\nconst Furls = lazy(() => import('./components/Furls'));\n\nif (typeof window !== 'undefined') {\n    injectStyle();\n}\n\nfunction App() {\n    const [signingIn, setSigningIn] = useState(false);\n\n    return (\n        <Suspense fallback={<Loader />}>\n            <div className='App background-main'>\n                <Navbar setSigningIn={setSigningIn} />\n                <div className='background'>\n                    <ul className='circles'>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                        <li></li>\n                    </ul>\n                </div>\n                <ToastContainer />\n                <Switch>\n                    <Route\n                        exact\n                        path='/'\n                        component={Home}\n                    />\n                    <Route path='/*' component={Furls} />\n                </Switch>\n            </div>\n\n            <SignIn\n                signingIn={signingIn}\n                setSigningIn={setSigningIn}\n            />\n            <Loader />\n        </Suspense>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { thunk, action } from 'easy-peasy';\r\nimport cookies from 'react-cookies';\r\nimport { toast } from 'react-toastify';\r\n\r\n// eslint-disable-next-line\r\nexport default {\r\n    // STORE\r\n    user_logged_in: false,\r\n    token: null,\r\n    user_data: {},\r\n\r\n    // THUNKS\r\n    login: thunk(\r\n        async (\r\n            actions,\r\n            {\r\n                email,\r\n                password,\r\n                toggleLoader,\r\n                goBack,\r\n                setError,\r\n            }\r\n        ) => {\r\n            toggleLoader(true);\r\n\r\n            fetch(`/auth/login`, {\r\n                method: 'POST',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    Accept: 'application/json',\r\n                }),\r\n                body: JSON.stringify({\r\n                    email: email,\r\n                    password: password,\r\n                }),\r\n            })\r\n                .then(async (resp) => {\r\n                    const res = await resp.json();\r\n\r\n                    if (resp.status === 202) {\r\n                        actions.setToken(res.token);\r\n                        actions.setUserData(res.user);\r\n                        toast.success(\r\n                            'Logged in Successfully!'\r\n                        );\r\n                        goBack();\r\n                    } else {\r\n                        toast.error(res.message);\r\n                        if (res['error-type'] !== 'server')\r\n                            setError(res['error-type']);\r\n                        console.log(res);\r\n                        actions.logout();\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    toast.error('Internal Server Error');\r\n                    // console.log(e);\r\n                    actions.logout();\r\n                })\r\n                .finally(() => {\r\n                    toggleLoader(false);\r\n                });\r\n        }\r\n    ),\r\n\r\n    register: thunk(\r\n        async (\r\n            actions,\r\n            {\r\n                email,\r\n                password,\r\n                password2,\r\n                name,\r\n                toggleLoader,\r\n                setError,\r\n                goBack,\r\n            }\r\n        ) => {\r\n            toggleLoader(true);\r\n\r\n            // ! ERROR TYPES :\r\n            // ! 0 ==> Email Error\r\n            // ! 1 ==> Password Error\r\n            // ! 2 ==> Name Error\r\n\r\n            setError(3);\r\n\r\n            if (password !== password2) {\r\n                setError(1);\r\n                toast.error(\"Passwords don't match!\");\r\n                return;\r\n            }\r\n\r\n            fetch(`/auth/register`, {\r\n                method: 'POST',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    Accept: 'application/json',\r\n                }),\r\n                body: JSON.stringify({\r\n                    email: email,\r\n                    password: password,\r\n                    name: name,\r\n                }),\r\n            })\r\n                .then(async (resp) => {\r\n                    const res = await resp.json();\r\n\r\n                    if (resp.status === 201) {\r\n                        actions.setToken(res.token);\r\n                        actions.setUserData(res.user);\r\n                        toast.success(\r\n                            'Registered in successfully'\r\n                        );\r\n                        goBack();\r\n                    } else {\r\n                        toast.error(res.message);\r\n\r\n                        if (res['error-type'] !== 'server')\r\n                            setError(res['error-type']);\r\n\r\n                        console.log(res);\r\n                        actions.logout();\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    toast.error('Internal Server Error');\r\n                    console.log(e);\r\n                    actions.logout();\r\n                    toggleLoader(false);\r\n                })\r\n                .finally(() => toggleLoader(false));\r\n        }\r\n    ),\r\n\r\n    verifyUser: thunk(async (actions) => {\r\n        let savedToken = cookies.load('Token');\r\n\r\n        if (savedToken === undefined) {\r\n            actions.logout();\r\n        } else\r\n            fetch(`/auth/verify`, {\r\n                method: 'GET',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: savedToken,\r\n                }),\r\n            })\r\n                .then(\r\n                    async (res) => {\r\n                        let resp = await res.json();\r\n\r\n                        if (res.status === 202)\r\n                            actions.setUserData(resp);\r\n                        else {\r\n                            actions.logout();\r\n                        }\r\n                    },\r\n                    (err) => {\r\n                        // console.log(err);\r\n                        actions.logout();\r\n                    }\r\n                )\r\n                .catch((e) => {\r\n                    // console.log(e);\r\n                    actions.logout();\r\n                });\r\n    }),\r\n\r\n    // ACTIONS\r\n    setToken: action(async (state, token) => {\r\n        cookies.save('Token', `Token ${token}`, {\r\n            expires: new Date('05-03-2022'),\r\n        });\r\n        state.token = token;\r\n    }),\r\n    setUserData: action(async (state, data) => {\r\n        const token = cookies.load('Token');\r\n        state.token = token;\r\n        state.user_logged_in = true;\r\n        state.user_data = data;\r\n    }),\r\n    logout: action((state) => {\r\n        // console.log('Logging out');\r\n        cookies.remove('Token');\r\n        state.user_logged_in = false;\r\n        state.token = null;\r\n        state.user_data = {};\r\n    }),\r\n};\r\n","import { action } from 'easy-peasy';\r\n\r\nconst loaderModel = {\r\n    // STORE\r\n    loader_shown: false,\r\n\r\n    // ACTIONS\r\n    toggleLoader: action((state, toggle) => {\r\n        state.loader_shown = toggle;\r\n    }),\r\n};\r\n\r\nexport default loaderModel;\r\n","import accountModel from './accountModel';\r\nimport loaderModel from './loaderModel';\r\nimport linkModel from './linkModel';\r\n\r\nconst store = {\r\n    accountModel,\r\n    loaderModel,\r\n    linkModel,\r\n};\r\n\r\nexport default store;\r\n","import { thunk, action } from 'easy-peasy';\r\nimport cookies from 'react-cookies';\r\nimport { toast } from 'react-toastify';\r\n\r\n// eslint-disable-next-line\r\nexport default {\r\n    // STORE\r\n    stored_links: [],\r\n    editingLink: {\r\n        open: false,\r\n        id: {},\r\n    },\r\n\r\n    // THUNKS\r\n    retrieveLinks: thunk(async (actions, toggleLoader) => {\r\n        const token = cookies.load('Token');\r\n\r\n        toggleLoader(true);\r\n\r\n        fetch(`/api/urls`, {\r\n            method: 'GET',\r\n            headers: new Headers({\r\n                'Content-Type': 'application/json',\r\n                Authorization: token,\r\n            }),\r\n        })\r\n            .then(async (res) => {\r\n                const resp = await res.json();\r\n\r\n                if (res.status !== 200) {\r\n                    console.log(resp);\r\n                    toast.error(resp.message);\r\n                } else {\r\n                    actions.setLinks(resp);\r\n                }\r\n            })\r\n            .catch((e) => {\r\n                toast.error('Internal Server Error');\r\n                console.log(e);\r\n            })\r\n            .finally(() => toggleLoader(false));\r\n    }),\r\n\r\n    editLink: thunk(\r\n        async (\r\n            actions,\r\n            {\r\n                id,\r\n                updates,\r\n                original,\r\n                toggleLoader,\r\n                setError,\r\n                back,\r\n                shortRef,\r\n                ogRef,\r\n            }\r\n        ) => {\r\n            if (\r\n                updates.short === original.short &&\r\n                updates.original === original.original\r\n            )\r\n                return;\r\n            const token = cookies.load('Token');\r\n\r\n            toggleLoader(true);\r\n\r\n            fetch(`/api/urls/${id}`, {\r\n                method: 'PATCH',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: token,\r\n                }),\r\n                body: JSON.stringify(updates),\r\n            })\r\n                .then(async (res) => {\r\n                    const resp = await res.json();\r\n\r\n                    if (res.status !== 202) {\r\n                        console.log(resp);\r\n                        toast.error(resp.message);\r\n\r\n                        ogRef.current.value =\r\n                            original.original;\r\n                        shortRef.current.value =\r\n                            original.short;\r\n\r\n                        if (\r\n                            resp['error-type'] === 'short'\r\n                        ) {\r\n                            setError(true);\r\n                        }\r\n                    } else {\r\n                        toast.success(\r\n                            'Link Updated Successfully!'\r\n                        );\r\n                        actions.updateLink({\r\n                            original,\r\n                            updates,\r\n                        });\r\n                        back();\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    toast.error('Internal Server Error');\r\n                    console.log(e);\r\n                })\r\n                .finally(() => {\r\n                    toggleLoader(false);\r\n                });\r\n        }\r\n    ),\r\n\r\n    deleteLink: thunk(\r\n        async (actions, { id, toggleLoader }) => {\r\n            const token = cookies.load('Token');\r\n\r\n            toggleLoader(true);\r\n\r\n            fetch(`/api/urls/${id}`, {\r\n                method: 'DELETE',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: token,\r\n                }),\r\n            })\r\n                .then(async (res) => {\r\n                    const resp = await res.json();\r\n\r\n                    if (res.status !== 200) {\r\n                        console.log(resp);\r\n                        toast.error(resp.message);\r\n                    } else {\r\n                        toast.success(\r\n                            'Link Deleted Successfully!'\r\n                        );\r\n\r\n                        actions.delete(id);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    toast.error('Internal Server Error');\r\n                    console.log(e);\r\n                })\r\n                .finally(() => toggleLoader(false));\r\n        }\r\n    ),\r\n\r\n    // ACTIONS\r\n    updateLinks: action((state, link) => {\r\n        console.log('Hey');\r\n        console.log(link);\r\n        state.stored_links = [...state.stored_links, link];\r\n    }),\r\n    setLinks: action((state, links) => {\r\n        state.stored_links = [...links];\r\n    }),\r\n    toggleEditor: action((state, toggle) => {\r\n        state.editingLink = toggle;\r\n    }),\r\n    updateLink: action((state, { original, updates }) => {\r\n        let updatedLink = { ...original };\r\n\r\n        console.log({ updatedLink, updates });\r\n\r\n        if (updates.short !== undefined) {\r\n            updatedLink.short = updates.short;\r\n        }\r\n        if (updates.original !== undefined) {\r\n            updatedLink.original = updates.original;\r\n        }\r\n\r\n        let index = state.stored_links.findIndex(\r\n            (link) => link._id.$oid === original._id.$oid\r\n        );\r\n        console.log(index);\r\n\r\n        let curr = state.stored_links;\r\n        curr[index] = updatedLink;\r\n        state.stored_links = curr;\r\n    }),\r\n    delete: action((state, id) => {\r\n        state.stored_links = state.stored_links.filter(\r\n            (link) => {\r\n                return link._id.$oid !== id;\r\n            }\r\n        );\r\n    }),\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {\n    StoreProvider,\n    createStore,\n    persist,\n} from 'easy-peasy';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport model from './models';\n\nconst store = createStore(\n    persist(model, { allow: ['accountModel'] })\n);\n\nReactDOM.render(\n    <React.StrictMode>\n        <StoreProvider store={store}>\n            <BrowserRouter>\n                <App />\n            </BrowserRouter>\n        </StoreProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}