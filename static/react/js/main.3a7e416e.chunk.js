(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,n,t){},20:function(e,n,t){},22:function(e,n,t){},26:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(7),c=t.n(a),s=(t(18),t(11)),u=t(5),i=t(13),l=t(3),d=(t(20),t(1)),f=function(){var e=Object(l.g)((function(e){return e.loaderModel.loader_shown}));return Object(a.createPortal)(Object(d.jsx)("div",{className:"loading ".concat(e?"shown":""),children:Object(d.jsx)("div",{className:"loader",children:Object(d.jsx)("div",{className:"inner"})})}),document.getElementById("loader"))},p=(t(22),Object(r.lazy)((function(){return t.e(7).then(t.bind(null,132))}))),b=Object(r.lazy)((function(){return t.e(8).then(t.bind(null,133))})),j=Object(r.lazy)((function(){return t.e(6).then(t.bind(null,134))}));"undefined"!==typeof window&&Object(i.injectStyle)();var g=function(){var e=Object(r.useState)(!1),n=Object(s.a)(e,2),t=n[0],o=n[1];return Object(d.jsxs)(r.Suspense,{fallback:Object(d.jsx)(f,{}),children:[Object(d.jsxs)("div",{className:"App background-main",children:[Object(d.jsx)(u.a,{}),Object(d.jsx)(p,{setSigningIn:o}),Object(d.jsx)(j,{})]}),Object(d.jsx)(b,{signingIn:t,setSigningIn:o}),Object(d.jsx)(f,{})]})},h=function(e){e&&e instanceof Function&&t.e(11).then(t.bind(null,135)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),o(e),a(e),c(e)}))},O=t(2),v=t.n(O),w=t(6),y=t(8),m=t.n(y),k={accountModel:{user_logged_in:!1,token:null,user_data:{},login:Object(l.e)(function(){var e=Object(w.a)(v.a.mark((function e(n,t){var r,o,a,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.email,o=t.password,a=t.toggleLoader,c=t.goBack,s=t.setError,a(!0),fetch("/auth/login",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"}),body:JSON.stringify({email:r,password:o})}).then(function(){var e=Object(w.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,202===t.status?(console.log(r),n.setToken(r.token),n.setUserData(r.user),u.b.success("Logged in Successfully!"),c()):(u.b.error(r.message),"server"!==r["error-type"]&&s(r["error-type"]),console.log(r),n.logout());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){u.b.error("Internal Server Error"),n.logout()})).finally((function(){a(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),register:Object(l.e)(function(){var e=Object(w.a)(v.a.mark((function e(n,t){var r,o,a,c,s,i,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.email,o=t.password,a=t.password2,c=t.name,s=t.toggleLoader,i=t.setError,l=t.goBack,s(!0),i(3),o===a){e.next=7;break}return i(1),u.b.error("Passwords don't match!"),e.abrupt("return");case 7:fetch("/auth/register",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"}),body:JSON.stringify({email:r,password:o,name:c})}).then(function(){var e=Object(w.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,201===t.status?(console.log(r),n.setToken(r.token),n.setUserData(r.user),u.b.success("Registered in successfully"),l()):(u.b.error(r.message),"server"!==r["error-type"]&&i(r["error-type"]),console.log(r),n.logout());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){u.b.error("Internal Server Error"),console.log(e),n.logout(),s(!1)})).finally((function(){return s(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),verifyUser:Object(l.e)(function(){var e=Object(w.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m.a.load("Token"),console.log("Hello"),void 0===t?n.logout():fetch("/auth/verify",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:t})}).then(function(){var e=Object(w.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,console.log(r),202===t.status?n.setUserData(r):n.logout();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){n.logout()})).catch((function(e){n.logout()}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),setToken:Object(l.b)(function(){var e=Object(w.a)(v.a.mark((function e(n,t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.save("Token","Token ".concat(t),{expires:new Date("05-03-2022")}),n.token=t;case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),setUserData:Object(l.b)(function(){var e=Object(w.a)(v.a.mark((function e(n,t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m.a.load("Token"),n.token=r,n.user_logged_in=!0,n.user_data=t;case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),logout:Object(l.b)((function(e){m.a.remove("Token"),e.user_logged_in=!1,e.token=null,e.user_data={}}))},loaderModel:{loader_shown:!1,toggleLoader:Object(l.b)((function(e,n){e.loader_shown=n}))}},x=Object(l.c)(Object(l.d)(k,{allow:["accountModel"]}));c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(l.a,{store:x,children:Object(d.jsx)(g,{})})}),document.getElementById("root")),h()}},[[26,1,3]]]);
//# sourceMappingURL=main.3a7e416e.chunk.js.map