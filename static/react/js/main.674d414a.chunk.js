(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,n,t){},28:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(16),c=t.n(o),s=(t(27),t(1)),u=t(10),i=t(21),l=(t(28),t(4)),f=Object(r.lazy)((function(){return t.e(5).then(t.bind(null,48))})),p=Object(r.lazy)((function(){return t.e(3).then(t.bind(null,49))}));"undefined"!==typeof window&&Object(i.injectStyle)();var d=function(){return Object(l.jsx)("div",{className:"App background-main",children:Object(l.jsxs)(r.Suspense,{fallback:Object(l.jsx)(l.Fragment,{}),children:[Object(l.jsx)(u.a,{}),Object(l.jsx)(f,{}),Object(l.jsx)(s.c,{children:Object(l.jsx)(s.a,{exact:!0,to:"/",component:p})})]})})},j=function(e){e&&e instanceof Function&&t.e(6).then(t.bind(null,50)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),o(e),c(e)}))},b=t(18),h=t(5),g=t(3),O=t.n(g),v=t(11),w=t(14),k=t.n(w),m={accountModel:{user_logged_in:!1,token:null,user_data:{},login:Object(h.e)(function(){var e=Object(v.a)(O.a.mark((function e(n,t){var r,a,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.email,a=t.password,o=t.toggleLoader,fetch("/auth/login/",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"}),body:JSON.stringify({email:r,password:a})}).then(function(){var e=Object(v.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,202===t.status?(console.log(r),n.setToken(r.token),n.setUserData(r.user),u.b.dark("Logged in Successfully!")):(u.b.error(r.message),console.log(r),n.logout());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){u.b.error("Internal Server Error"),n.logout()})).finally((function(){o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),register:Object(h.e)(function(){var e=Object(v.a)(O.a.mark((function e(n,t){var r,a,o,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.email,a=t.password,o=t.name,c=t.toggleLoader,fetch("/auth/register/",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"}),body:JSON.stringify({email:r,password:a,name:o})}).then(function(){var e=Object(v.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,201===t.status?(n.setToken(r.token),n.setUserData(r.user),u.b.dark("Registered in successfully")):(u.b.error(r.message),n.logout());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){u.b.error("Internal Server Error"),n.logout(),c(!1)})).finally((function(){return c(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),verifyUser:Object(h.e)(function(){var e=Object(v.a)(O.a.mark((function e(n){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.load("Token"),console.log("Hello"),void 0===t?n.logout():fetch("/auth/verify",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:t})}).then(function(){var e=Object(v.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,console.log(r),202===t.status?n.setUserData(r):n.logout();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){n.logout()})).catch((function(e){n.logout()}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),setToken:Object(h.b)(function(){var e=Object(v.a)(O.a.mark((function e(n,t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.save("Token","Token ".concat(t),{expires:new Date("05-03-2022")}),n.token=t;case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),setUserData:Object(h.b)(function(){var e=Object(v.a)(O.a.mark((function e(n,t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=k.a.load("Token"),n.token=r,n.user_logged_in=!0,n.user_data=t;case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),logout:Object(h.b)((function(e){k.a.remove("Token"),e.user_logged_in=!1,e.token=null,e.user_data={}}))},loaderModel:{loader_shown:!1,toggleLoader:Object(h.b)((function(e,n){e.loader_shown=n}))}},y=Object(h.c)(Object(h.d)(m,{allow:["accountModel"]}));c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(h.a,{store:y,children:Object(l.jsx)(b.a,{children:Object(l.jsx)(d,{})})})}),document.getElementById("root")),j()}},[[42,1,2]]]);
//# sourceMappingURL=main.674d414a.chunk.js.map