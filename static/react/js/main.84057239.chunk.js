(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,n,t){},16:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(9),c=t.n(o),s=(t(15),t(5)),u=t(10),i=(t(16),t(2)),l=Object(r.lazy)((function(){return t.e(5).then(t.bind(null,27))})),f=Object(r.lazy)((function(){return t.e(4).then(t.bind(null,28))}));"undefined"!==typeof window&&Object(u.injectStyle)();var p=function(){return Object(i.jsx)("div",{className:"App background-main",children:Object(i.jsxs)(r.Suspense,{fallback:Object(i.jsx)(i.Fragment,{}),children:[Object(i.jsx)(s.a,{}),Object(i.jsx)(l,{}),Object(i.jsx)(f,{})]})})},d=function(e){e&&e instanceof Function&&t.e(6).then(t.bind(null,29)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),o(e),c(e)}))},b=t(3),h=t(1),j=t.n(h),g=t(6),v=t(7),O=t.n(v),w={accountModel:{user_logged_in:!1,token:null,user_data:{},login:Object(b.e)(function(){var e=Object(g.a)(j.a.mark((function e(n,t){var r,a,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.email,a=t.password,o=t.toggleLoader,fetch("/auth/login/",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"}),body:JSON.stringify({email:r,password:a})}).then(function(){var e=Object(g.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,202===t.status?(console.log(r),n.setToken(r.token),n.setUserData(r.user),s.b.dark("Logged in Successfully!")):(s.b.error(r.message),console.log(r),n.logout());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){s.b.error("Internal Server Error"),n.logout()})).finally((function(){o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),register:Object(b.e)(function(){var e=Object(g.a)(j.a.mark((function e(n,t){var r,a,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.email,a=t.password,o=t.name,c=t.toggleLoader,fetch("/auth/register/",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json"}),body:JSON.stringify({email:r,password:a,name:o})}).then(function(){var e=Object(g.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,201===t.status?(n.setToken(r.token),n.setUserData(r.user),s.b.dark("Registered in successfully")):(s.b.error(r.message),n.logout());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){s.b.error("Internal Server Error"),n.logout(),c(!1)})).finally((function(){return c(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),verifyUser:Object(b.e)(function(){var e=Object(g.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=O.a.load("Token"),console.log("Hello"),void 0===t?n.logout():fetch("/auth/verify",{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:t})}).then(function(){var e=Object(g.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,console.log(r),202===t.status?n.setUserData(r):n.logout();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){n.logout()})).catch((function(e){n.logout()}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),setToken:Object(b.b)(function(){var e=Object(g.a)(j.a.mark((function e(n,t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.save("Token","Token ".concat(t),{expires:new Date("05-03-2022")}),n.token=t;case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),setUserData:Object(b.b)(function(){var e=Object(g.a)(j.a.mark((function e(n,t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=O.a.load("Token"),n.token=r,n.user_logged_in=!0,n.user_data=t;case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),logout:Object(b.b)((function(e){O.a.remove("Token"),e.user_logged_in=!1,e.token=null,e.user_data={}}))},loaderModel:{loader_shown:!1,toggleLoader:Object(b.b)((function(e,n){e.loader_shown=n}))}},k=Object(b.c)(Object(b.d)(w,{allow:["accountModel"]}));c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(b.a,{store:k,children:Object(i.jsx)(p,{})})}),document.getElementById("root")),d()}},[[22,1,2]]]);
//# sourceMappingURL=main.84057239.chunk.js.map